import{r as c,j as e,c as a,f,u as p}from"./index-Djk9Ce6Z.js";import{S as m}from"./section-title-D2YMt433.js";import"./split-screen-CkzB132Y.js";import{v}from"./video-js-CeWkPdUV.js";import"./title-BBg4eGgj.js";const l={tour:{title:"START TOUR"},"main-entry":{title:"MAIN ENTRY"},reception:{title:"RECEPTION"},"lift-lobby":{title:"LIFT LOBBY"},"lounge-lobby":{title:"LOUNGE LOBBY"},"work-lobby":{title:"WORK LOBBY"},servery:{title:"SERVERY"},"cafe-pavilion":{title:"CAFE PAVILION"},"meeting-room":{title:"MEETING ROOM"},courtyard:{title:"COURTYARD"}},x=c.createContext(null),u=()=>{const s=c.useContext(x);if(!s)throw new Error("designContext has to be used within <DesignContext.Provider>");return s},g=({children:s})=>{const[r,i]=c.useState("tour"),[t,o]=c.useState(!1),d=n=>{o(!0),setTimeout(()=>i(n),500),setTimeout(()=>o(!1),800)};return e.jsx(x.Provider,{value:{activeSource:r,setActiveSource:d,fade:t},children:s})},h=({id:s,activeVideo:r,variant:i,onClick:t,children:o})=>e.jsx("button",{onClick:t,className:"group",children:e.jsx("p",{className:a("font-secondaryLight text-base font-light uppercase text-white/70 group-hover:text-white group-hover:font-bold",i?"border-r pr-8":"",r===s?"font-bold text-white":""),children:o})}),b=()=>{const{activeSource:s,setActiveSource:r}=u(),i=t=>{r(t)};return e.jsx("div",{className:"absolute bottom-0 z-10 hidden w-full pb-[5vw] md:flex",children:e.jsx("div",{className:"box-border flex w-full flex-row justify-center gap-8",children:Object.keys(l).map(t=>e.jsx(h,{activeVideo:s,variant:t==="tour",id:t,onClick:()=>i(t),children:l[t].title},t))})})},j=c.memo(b),w=()=>{const{activeSource:s,setActiveSource:r}=u(),i=Object.keys(l).map(n=>({key:n,...l[n]})),t=()=>i.findIndex(n=>n.key===s),o=()=>{const n=t();n>0&&r(i[n-1].key)},d=()=>{console.log("navigate right"),console.log(t()),console.log(i);const n=t();n<i.length-1&&(r(i[n+1].key),console.log("next key === "+i[n+1].key))};return e.jsx("div",{className:"absolute top-0 z-10 w-full md:hidden",children:e.jsxs("div",{className:"box-border flex w-full flex-row justify-between px-4 py-[5px]",children:[e.jsx("button",{className:a("flex items-center justify-center -rotate-90",s==="tour"?"opacity-0":""),onClick:()=>o(),children:e.jsx("img",{src:"https://140-william-assets.s3.ap-southeast-2.amazonaws.com/icons/up-arrow.svg",alt:"down-arrow"})}),e.jsx("p",{className:a("font-secondaryLight text-base font-light uppercase text-white/70 ","font-bold text-white"),children:s==="tour"?"TOUR":l[s].title}),e.jsx("button",{className:a("flex items-center justify-center rotate-90",s==="courtyard"?"opacity-0":""),onClick:()=>d(),children:e.jsx("img",{src:"https://140-william-assets.s3.ap-southeast-2.amazonaws.com/icons/up-arrow.svg",alt:"down-arrow"})})]})})},y=f.vid,N=()=>{const s=c.useRef(null),r=c.useRef(null),{activeSource:i}=u();return c.useEffect(()=>{const t={autoplay:!0,controls:!0,loop:!0,muted:!0,fluid:!0,responsive:!0,height:"100%",width:"100%",preload:"auto",enableSmoothSeeking:!0,sources:[{src:y[i].src,type:"application/x-mpegURL"}]};if(r.current){const o=r.current;o.autoplay(t.autoplay),o.src(t.sources)}else{const o=document.createElement("video-js");o.classList.add("vjs-big-play-centered"),o.classList.add("flex"),o.classList.add("!w-full"),o.classList.add("!h-full"),o.classList.add("object-cover"),o.classList.add("relative"),s.current.appendChild(o),r.current=v(o,t)}},[i,s]),c.useEffect(()=>{const t=r.current;return()=>{t&&!t.isDisposed()&&(t.dispose(),r.current=null)}},[r]),e.jsx("div",{"data-vjs-player":!0,className:"size-full overflow-hidden bg-black object-cover [&_img]:size-full [&_img]:!object-cover",children:e.jsx("div",{ref:s,className:"relative size-full object-cover [&_img]:size-full [&_img]:object-cover [&_video]:object-cover "})})},R=()=>{const{fade:s}=u();return e.jsx("div",{className:a("bg-black relative"),children:e.jsxs("div",{className:a("transition-all duration-500",s?"opacity-0":"opacity-1"),children:[e.jsx(N,{}),e.jsx(w,{}),e.jsx(j,{})]})})},k=()=>{const{pageRefs:s}=p();return e.jsx(g,{children:e.jsxs("section",{className:"h-fit w-screen bg-background-secondary",ref:s.design,children:[e.jsx("div",{className:"box-border flex  flex-row gap-32 overflow-hidden px-4 pb-8 pt-32 md:px-40",children:e.jsx(m,{titleVariant:"light",subtitle:"DESIGN",title:`A memorable arrival
experience`})}),e.jsx("div",{className:"h-fit md:h-fit",children:e.jsx(R,{})})]})})};export{k as DesignRoute};
