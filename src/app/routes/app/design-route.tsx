import * as React from 'react';import { designAssets as ASSETS } from '@/assets';import { SectionTitle } from '@/components/layouts';import Video from '@/components/ui/video/video';import { useNavigationContext } from '@/context/navigation-context';import { cn } from '@/utils/cn';import { designConst as CONST } from 'src/constants';const videos = ASSETS.vid;type VideoKey = keyof typeof videos;const menuItems = CONST.menuItems;type MenuKey = keyof typeof menuItems;type MenuProps = {    activeVideo: string | null;    onPlayVideo: (id: string) => void;};const VideoMenu: React.FC<MenuProps> = ({ activeVideo, onPlayVideo }) => {    return (        <div            className={`absolute bottom-0 z-10 hidden w-full pb-[5vw] md:flex`}        >            <div                className={`box-border flex w-full flex-row justify-center gap-8`}            >                <button                    onClick={() => onPlayVideo('tour')}                    className={`group box-border flex flex-row items-center justify-center gap-1`}                >                    <div>                        <img                            className={'box-border size-6 !object-contain'}                            src={                                'https://140-william-assets.s3.ap-southeast-2.amazonaws.com/icons/play.svg'                            }                            alt={'start-tour'}                        />                    </div>                    <p                        className={cn(                            `border-r pr-8 font-secondaryLight text-base font-light uppercase text-white/70 group-hover:text-white group-hover:font-bold`,                            activeVideo === 'tour'                                ? 'font-bold text-white'                                : '',                        )}                    >                        START TOUR                    </p>                </button>                {Object.keys(menuItems).map((key) => (                    <button                        key={key}                        onClick={() => onPlayVideo(key)}                        className={`group`}                    >                        <p                            className={cn(                                `font-secondaryLight text-base font-light uppercase text-white/70 group-hover:text-white group-hover:font-bold`,                                activeVideo === key                                    ? 'font-bold text-white'                                    : '',                            )}                        >                            {menuItems[key as MenuKey].title}                        </p>                    </button>                ))}            </div>        </div>    );};const MobileVideoMenu: React.FC<MenuProps> = ({ activeVideo, onPlayVideo }) => {    let menuArray = Object.keys(menuItems).map((key) => {        return {            key: key,            ...menuItems[key],        };    });    menuArray = [{ key: 'tour', title: 'TOUR' }, ...menuArray];    const getCurrentIdx = () => {        return menuArray.findIndex((item) => item.key === activeVideo);    };    const navigateLeft = (idx: number) => {        const currentIdx = getCurrentIdx();        if (currentIdx > 0) onPlayVideo(menuArray[currentIdx - 1].key);    };    const navigateRight = (idx: number) => {        const currentIdx = getCurrentIdx();        if (currentIdx < menuArray.length - 1)            onPlayVideo(menuArray[currentIdx + 1].key);    };    return (        <div className={`absolute top-0 z-10 w-full pt-[1vw] md:hidden`}>            <div                className={`box-border flex w-full flex-row justify-between px-4 py-[17.5px]`}            >                <button                    className={cn(                        `flex items-center justify-center -rotate-90`,                        activeVideo === 'tour' ? 'opacity-0' : '',                    )}                    onClick={navigateLeft}                >                    <img                        src={                            'https://140-william-assets.s3.ap-southeast-2.amazonaws.com/icons/up-arrow.svg'                        }                        alt={'down-arrow'}                    />                </button>                <p                    className={cn(                        `font-secondaryLight text-base font-light uppercase text-white/70 `,                        'font-bold text-white',                    )}                >                    {activeVideo === 'tour'                        ? 'TOUR'                        : menuItems[activeVideo as MenuKey].title}                </p>                <button                    className={cn(                        `flex items-center justify-center rotate-90`,                        activeVideo === 'courtyard' ? 'opacity-0' : '',                    )}                    onClick={navigateRight}                >                    <img                        src={                            'https://140-william-assets.s3.ap-southeast-2.amazonaws.com/icons/up-arrow.svg'                        }                        alt={'down-arrow'}                    />                </button>            </div>        </div>    );};export const DesignRoute: React.FC = () => {    const { pageRefs } = useNavigationContext();    const [videoSrc, setVideoSrc] = React.useState('tour');    return (        <section            className={`h-fit w-screen bg-background-secondary`}            ref={pageRefs.design}        >            <div                className={`box-border flex  flex-row gap-32 overflow-hidden px-4 pb-8 pt-32 md:px-40`}            >                <SectionTitle                    titleVariant={'light'}                    subtitle={CONST.subtitle}                    title={CONST.title}                />            </div>            <div className={'h-screen md:h-fit'}>                <Video                    options={{                        src: videos[videoSrc as VideoKey].src,                        controls: true,                        autoplay: true,                        muted: true,                    }}                >                    <MobileVideoMenu                        activeVideo={videoSrc}                        onPlayVideo={setVideoSrc}                    />                    <VideoMenu                        activeVideo={videoSrc}                        onPlayVideo={setVideoSrc}                    />                </Video>            </div>        </section>    );};